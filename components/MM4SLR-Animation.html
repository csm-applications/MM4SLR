<link rel="stylesheet" href="../assets/CSS/MM4SLR-Animation.css">

<div class="container my-5">
    <div class="mm4slr-grid">
        <!-- Headers das Dimensões -->
        <div class="mm4slr-headers d-flex justify-content-between" id="mm4slr-headers"></div>

        <!-- Linhas de Níveis -->
        <div class="mm4slr-rows" id="mm4slr-rows"></div>
    </div>
</div>

<script>
const dimensions = [
    { id: 1, name: "Knowledge Management", description: "This dimension ensures that all knowledge produced in the entire SLR lifecycle is managed, i.e., created, shared, reused, adapted, and eliminated." },
    { id: 2, name: "Tool Support", description: "This dimension ensures the quality and effectiveness of the tools used in the review." },
    { id: 3, name: "Quality, Validity & Reliability", description: "This dimension ensures that all processes to validate each process of SLR (e.g., scope definition, protocol definition, studies selection, data extraction, data synthesis)." },
    { id: 4, name: "Collaboration & Communication", description: "This dimension ensures that all the interactions among researchers and the target audience are well-performed." },
    { id: 5, name: "Documentation & Reproducibility", description: "This dimension ensures that process documentation, consequently, the reproducibility and auditability is assured." },
    { id: 6, name: "Design & Planning", description: "This dimension ensures that the design and planning adopted is carefully aligned with the review goals to comply its objective" },
    { id: 7, name: "Process Efficiency & Optimization", description: "This dimension handles all aspects related to optimization of SLR process to make it less costly in terms of time and effort needed." },
];

const levels = [
    { id: 1, name: "Level 0 – Incomplete", value: "incomplete", description: "We did not include any PA for this level as SLR processes in this level do not present any systematization and will possibly result in SLRs with no rigor in the processes or results." },
    { id: 2, name: "Level 1 – Performed", value: "performed", description: "This level is concerned with the execution of the SLR processes." },
    { id: 3, name: "Level 2 – Managed", value: "managed", description: "SLR processes are well-defined and documented and focus on management to foster the SLR quality." },
    { id: 4, name: "Level 3 – Measured", value: "measured", description: "SLR processes are quantitatively managed to ensure a systematic control of quality and effort in each activity." },
    { id: 5, name: "Level 4 – Optimized", value: "optimized", description: "Optimizing of SLR processes refers to the highest level of maturity in which researchers are concerned with continuously evaluating and improving their SLR processes." },
];

// Função para criar headers
const headerContainer = document.getElementById('mm4slr-headers');
headerContainer.innerHTML = `<div class="header-level">Levels</div>` + 
    dimensions.map(d => `<div class="header-dimension" data-info="${d.description}">${d.name}</div>`).join('');

// Função para criar linhas de níveis
const rowsContainer = document.getElementById('mm4slr-rows');
rowsContainer.innerHTML = levels.map((level, idx) => `
    <div class="mm4slr-row gradient-${idx}" data-info="${level.description}">
        <div class="level-label">${level.name}</div>
        ${dimensions.map(dim => `<div class="cells" data-info="${dim.description}"></div>`).join('')}
    </div>
`).join('');

// Tooltip
const tooltip = document.createElement('div');
tooltip.className = 'mm4slr-tooltip';
document.body.appendChild(tooltip);

function showTooltip(text, element) {
    tooltip.textContent = text;
    const rect = element.getBoundingClientRect();
    tooltip.style.top = `${rect.bottom + window.scrollY + 5}px`;
    tooltip.style.left = `${rect.left + window.scrollX}px`;
    tooltip.style.opacity = 1;
}

function hideTooltip() {
    tooltip.style.opacity = 0;
}

// Eventos
document.querySelectorAll('.level-label, .cells, .header-dimension').forEach(el => {
    el.addEventListener('mouseenter', e => showTooltip(e.target.dataset.info, e.target));
    el.addEventListener('mouseleave', hideTooltip);
});
</script>
